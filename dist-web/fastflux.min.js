var Fastflux=function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";t.exports={Application:n(1),Store:n(6),services:{SocketBridge:n(11),MessageHistory:n(12)}}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=n(2),o=n(4),a=n(5),c=n(6),u=n(8),p=n(10).bind,h=function(t){function e(){r(this,e),t.apply(this,arguments)}return i(e,t),e.prototype.register=function(t,e){return this._callbacks[t]=e,t},e}(a),l=function(){function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];r(this,t),this._dispatcher=new h,this._stores={};var n=e.stores||{};for(var i in n)this.addStore(i,n[i])}return t.prototype.addStore=function(t,e){return"object"==typeof e&&(s(!(e instanceof c),"Application.addStore(store): `store` cannot be an instance of `Store`, it must be a sub-class of `Store` or a prototype accepted by `Store.create`."),e=c.create(e)),e=new e(this),s(e instanceof c,"Application.addStore(store): `store` must be a sub-class of `Store` or a prototype accepted by `Store.create`."),this._stores[t]=e,this.addCallback(t,p(e.onMessage,e))},t.prototype.removeStore=function(t){s(this._stores[t],"Application.removeStore(id): `%s` does not map to a registered store.",t),this.removeCallback(t),delete this._stores[t]},t.prototype.hasStore=function(t){return this._stores.hasOwnProperty(t)},t.prototype.getStore=function(t){return s(this._stores[t],"Application.getStore(id): `%s` does not map to a registered store.",t),this._stores[t]},t.prototype.addCallback=function(t,e){return this._dispatcher.register(t,e)},t.prototype.hasCallback=function(t){return this._dispatcher._callbacks.hasOwnProperty(t)},t.prototype.removeCallback=function(t){this._dispatcher.unregister(t)},t.prototype.wait=function(){for(var t=arguments.length,e=Array(t),n=0;t>n;n++)e[n]=arguments[n];return this._dispatcher.waitFor(e)},t.prototype.dispatch=function(t){return this._dispatcher.dispatch(t)},t.prototype.bindAction=function(t){var e=this;return function(){e.dispatch(t.apply(void 0,arguments))}},t}();o(l.prototype,u),t.exports=l},function(t,e,n){(function(e){"use strict";var n=function(t,n,r,i,s,o,a,c){if("production"!==e.env.NODE_ENV&&void 0===n)throw new Error("invariant requires an error message argument");if(!t){var u;if(void 0===n)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var p=[r,i,s,o,a,c],h=0;u=new Error("Invariant Violation: "+n.replace(/%s/g,function(){return p[h++]}))}throw u.framesToPop=1,u}};t.exports=n}).call(e,n(3))},function(t,e){function n(){u=!1,o.length?c=o.concat(c):p=-1,c.length&&r()}function r(){if(!u){var t=setTimeout(n);u=!0;for(var e=c.length;e;){for(o=c,c=[];++p<e;)o&&o[p].run();p=-1,e=c.length}o=null,u=!1,clearTimeout(t)}}function i(t,e){this.fun=t,this.array=e}function s(){}var o,a=t.exports={},c=[],u=!1,p=-1;a.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new i(t,e)),1!==c.length||u||setTimeout(r,0)},i.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=s,a.addListener=s,a.once=s,a.off=s,a.removeListener=s,a.removeAllListeners=s,a.emit=s,a.binding=function(t){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(t){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(t,e){"use strict";function n(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}var r=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;t.exports=Object.assign||function(t,e){for(var s,o,a=n(t),c=1;c<arguments.length;c++){s=Object(arguments[c]);for(var u in s)r.call(s,u)&&(a[u]=s[u]);if(Object.getOwnPropertySymbols){o=Object.getOwnPropertySymbols(s);for(var p=0;p<o.length;p++)i.call(s,o[p])&&(a[o[p]]=s[o[p]])}}return a}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(2),s="ID_",o=function(){function t(){r(this,t),this._lastID=1,this._callbacks={},this._isPending={},this._isHandled={},this._isDispatching=!1,this._pendingPayload=null}return t.prototype.register=function(t){var e=s+this._lastID++;return this._callbacks[e]=t,e},t.prototype.unregister=function(t){i(this._callbacks[t],"Dispatcher.unregister(...): `%s` does not map to a registered callback.",t),delete this._callbacks[t]},t.prototype.waitFor=function(t){i(this._isDispatching,"Dispatcher.waitFor(...): Must be invoked while dispatching.");for(var e=0;e<t.length;e++){var n=t[e];this._isPending[n]?i(this._isHandled[n],"Dispatcher.waitFor(...): Circular dependency detected while waiting for `%s`.",n):(i(this._callbacks[n],"Dispatcher.waitFor(...): `%s` does not map to a registered callback.",n),this._invokeCallback(n))}},t.prototype.dispatch=function(t){i(!this._isDispatching,"Dispatch.dispatch(...): Cannot dispatch in the middle of a dispatch."),this._startDispatching(t);try{for(var e in this._callbacks)this._isPending[e]||this._invokeCallback(e)}finally{this._stopDispatching()}},t.prototype.isDispatching=function(){return this._isDispatching},t.prototype._invokeCallback=function(t){this._isPending[t]=!0,this._callbacks[t](this._pendingPayload),this._isHandled[t]=!0},t.prototype._startDispatching=function(t){for(var e in this._callbacks)this._isPending[e]=!1,this._isHandled[e]=!1;this._pendingPayload=t,this._isDispatching=!0},t.prototype._stopDispatching=function(){this._pendingPayload=null,this._isDispatching=!1},t}();t.exports=o},function(t,e,n){"use strict";function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var s=n(2),o=n(7).EventEmitter,a=n(4),c="change";t.exports=function(){function t(e){i(this,t),this._emitter=new o,s(this.constructor!==t,"new Store(): Cannot instantiate abstract class."),this._app=e}return t.create=function(t){var e=t.handlers,n=this;delete t.handlers,delete t.constructor;var s=function(t){function e(){i(this,e),t.apply(this,arguments)}return r(e,t),e}(n);return a(s.prototype,t),s.handlers=e,s},t.prototype.onMessage=function(t){var e=(this.constructor.handlers||{})[t.type];"function"==typeof e&&e.call(this,t)},t.prototype.emitChange=function(){this._emitter.emit(c)},t.prototype.wait=function(){var t;(t=this._app).wait.apply(t,arguments)},t.prototype.listen=function(t){this._emitter.addListener(c,t)},t.prototype.unlisten=function(t){this._emitter.removeListener(c,t)},t}()},function(t,e){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(t){return"function"==typeof t}function i(t){return"number"==typeof t}function s(t){return"object"==typeof t&&null!==t}function o(t){return void 0===t}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(t){if(!i(t)||0>t||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},n.prototype.emit=function(t){var e,n,i,a,c,u;if(this._events||(this._events={}),"error"===t&&(!this._events.error||s(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[t],o(n))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(i=arguments.length,a=new Array(i-1),c=1;i>c;c++)a[c-1]=arguments[c];n.apply(this,a)}else if(s(n)){for(i=arguments.length,a=new Array(i-1),c=1;i>c;c++)a[c-1]=arguments[c];for(u=n.slice(),i=u.length,c=0;i>c;c++)u[c].apply(this,a)}return!0},n.prototype.addListener=function(t,e){var i;if(!r(e))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,r(e.listener)?e.listener:e),this._events[t]?s(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,s(this._events[t])&&!this._events[t].warned){var i;i=o(this._maxListeners)?n.defaultMaxListeners:this._maxListeners,i&&i>0&&this._events[t].length>i&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace())}return this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(t,e){function n(){this.removeListener(t,n),i||(i=!0,e.apply(this,arguments))}if(!r(e))throw TypeError("listener must be a function");var i=!1;return n.listener=e,this.on(t,n),this},n.prototype.removeListener=function(t,e){var n,i,o,a;if(!r(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(n=this._events[t],o=n.length,i=-1,n===e||r(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(s(n)){for(a=o;a-->0;)if(n[a]===e||n[a].listener&&n[a].listener===e){i=a;break}if(0>i)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},n.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[t],r(n))this.removeListener(t,n);else for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},n.prototype.listeners=function(t){var e;return e=this._events&&this._events[t]?r(this._events[t])?[this._events[t]]:this._events[t].slice():[]},n.listenerCount=function(t,e){var n;return n=t._events&&t._events[e]?r(t._events[e])?1:t._events[e].length:0}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=n(9),o=n(4),a=n(10).bind;t.exports={subscribe:function(){for(var t=arguments.length,e=Array(t),n=0;t>n;n++)e[n]=arguments[n];var c=this;return function(t){return function(n){function u(){r(this,u),n.apply(this,arguments),this.state={},this.onStoreChange=a(this._onStoreChange,this)}return i(u,n),u.prototype.componentDidMount=function(){var t=this,n={};e.forEach(function(e){var r=c.getStore(e);n[e]=r.getState(),r.listen(t.onStoreChange)}),this.setState(n)},u.prototype.componentWillUnmount=function(){var t=this;e.map(c.getStore).forEach(function(e){return e.unlisten(t.onStoreChange)})},u.prototype._onStoreChange=function(){var t={};e.forEach(function(e){return t[e]=c.getStore(e).getState()}),this.setState(t)},u.prototype.render=function(){var e=o({},this.props,this.state);return s.createElement(t,e)},u}(s.Component)}}}},function(t,e){t.exports=React},function(t,e){"use strict";e.bind=function(t,e){t="function"==typeof t.originalFunction&&t.originalFunction||t;var n=function(){return t.apply(e,arguments)};return n.originalFunction=t,n},t.exports=e},function(t,e,n){"use strict";var r=n(2),i=n(10).bind,s=(n(6),"fastflux.services.SocketBridge");t.exports={setUp:function(t,e){r(!t.hasCallback(s),"SocketBridge.setUp(app): socket bridge service is already enabled.");var n=new SockJS(e.url);t.getSocket=function(){return n},"function"==typeof e.onOpen&&(n.onopen=i(e.onOpen,t)),"function"==typeof e.onClose&&(n.onclose=i(e.onClose,t)),n.onmessage=function(e){t.dispatch(JSON.parse(e.data))},t.addCallback(s,function(r){e.filter.call(t,r)&&n.send(JSON.stringify(r))})},tearDown:function(t){r(t.hasCallback(s),"SocketBridge.tearDown(app): socket bridge service is already disabled."),t.removeCallback(s),t.getSocket().close(),delete t.getSocket}}},function(t,e,n){"use strict";var r=n(2),i=(n(10).bind,n(6),"fastflux.services.MessageHistory");t.exports={setUp:function(t){r(!t.hasStore(i),"MessageHistory.setUp(app): message history service is already enabled.");var e=[];t.addStore(i,{getState:function(){return e.concat()},onMessage:function(t){e.push([new Date,t]),this.emitChange()}}),t.getHistory=function(){return this.getStore(i).getState()}},tearDown:function(t){r(t.hasStore(i),"MessageHistory.tearDown(app): message history service is already disabled."),delete t.getHistory,t.removeStore(i)}}}]);