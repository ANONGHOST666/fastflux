!function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";!function(t){t.Fastflux.plugins=t.Fastflux.plugins||{},t.Fastflux.plugins.MessageHistory=n(13)}(window)},,,function(t,e,n){(function(e){"use strict";var n=function(t,n,r,i,s,o,a,u){if("production"!==e.env.NODE_ENV&&void 0===n)throw new Error("invariant requires an error message argument");if(!t){var c;if(void 0===n)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var h=[r,i,s,o,a,u],p=0;c=new Error("Invariant Violation: "+n.replace(/%s/g,function(){return h[p++]}))}throw c.framesToPop=1,c}};t.exports=n}).call(e,n(4))},function(t,e){function n(){c=!1,o.length?u=o.concat(u):h=-1,u.length&&r()}function r(){if(!c){var t=setTimeout(n);c=!0;for(var e=u.length;e;){for(o=u,u=[];++h<e;)o&&o[h].run();h=-1,e=u.length}o=null,c=!1,clearTimeout(t)}}function i(t,e){this.fun=t,this.array=e}function s(){}var o,a=t.exports={},u=[],c=!1,h=-1;a.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new i(t,e)),1!==u.length||c||setTimeout(r,0)},i.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=s,a.addListener=s,a.once=s,a.off=s,a.removeListener=s,a.removeAllListeners=s,a.emit=s,a.binding=function(t){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(t){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(t,e){"use strict";function n(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}var r=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;t.exports=Object.assign||function(t,e){for(var s,o,a=n(t),u=1;u<arguments.length;u++){s=Object(arguments[u]);for(var c in s)r.call(s,c)&&(a[c]=s[c]);if(Object.getOwnPropertySymbols){o=Object.getOwnPropertySymbols(s);for(var h=0;h<o.length;h++)i.call(s,o[h])&&(a[o[h]]=s[o[h]])}}return a}},,function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(3),s=n(8).EventEmitter,o=(n(5),"change");t.exports=function(){function t(e,n){var o=this;r(this,t),this._emitter=new s,this.state=null,i(this.constructor!==t,"Cannot instantiate Store. Subclass instead!"),this._handlers={},Object.getOwnPropertyNames(this.constructor.prototype).forEach(function(t){if("constructor"!==t){var e=o.constructor.prototype[t];"function"==typeof e&&e.hasOwnProperty("handlesMessageType")&&(o._handlers[e.handlesMessageType]=e)}}),this._key=n,this._app=e}return t.prototype.getState=function(){return this.state},t.prototype.onMessage=function(t){var e=this._handlers[t.type];"function"==typeof e&&e.call(this,t)},t.prototype.emitChange=function(){this._emitter.emit(o,this.getPublicContext())},t.prototype.wait=function(){var t;(t=this._app).wait.apply(t,arguments)},t.prototype.getPublicContext=function(){var t=this;return{listen:function(e){return t._emitter.addListener(o,e)},unlisten:function(e){return t._emitter.removeListener(o,e)},getState:function(){return t.getState()},getKey:function(){return t._key}}},t}()},function(t,e){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(t){return"function"==typeof t}function i(t){return"number"==typeof t}function s(t){return"object"==typeof t&&null!==t}function o(t){return void 0===t}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(t){if(!i(t)||0>t||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},n.prototype.emit=function(t){var e,n,i,a,u,c;if(this._events||(this._events={}),"error"===t&&(!this._events.error||s(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[t],o(n))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),n.apply(this,a)}else if(s(n))for(a=Array.prototype.slice.call(arguments,1),c=n.slice(),i=c.length,u=0;i>u;u++)c[u].apply(this,a);return!0},n.prototype.addListener=function(t,e){var i;if(!r(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,r(e.listener)?e.listener:e),this._events[t]?s(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,s(this._events[t])&&!this._events[t].warned&&(i=o(this._maxListeners)?n.defaultMaxListeners:this._maxListeners,i&&i>0&&this._events[t].length>i&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace())),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(t,e){function n(){this.removeListener(t,n),i||(i=!0,e.apply(this,arguments))}if(!r(e))throw TypeError("listener must be a function");var i=!1;return n.listener=e,this.on(t,n),this},n.prototype.removeListener=function(t,e){var n,i,o,a;if(!r(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(n=this._events[t],o=n.length,i=-1,n===e||r(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(s(n)){for(a=o;a-->0;)if(n[a]===e||n[a].listener&&n[a].listener===e){i=a;break}if(0>i)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},n.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[t],r(n))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},n.prototype.listeners=function(t){var e;return e=this._events&&this._events[t]?r(this._events[t])?[this._events[t]]:this._events[t].slice():[]},n.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(r(e))return 1;if(e)return e.length}return 0},n.listenerCount=function(t,e){return t.listenerCount(e)}},,,function(t,e){"use strict";e.bind=function(t,e){t="function"==typeof t.originalFunction&&t.originalFunction||t;var n=function(){return t.apply(e,arguments)};return n.originalFunction=t,n};var n=function(t){return"function"==typeof Array.isArray?Array.isArray(t):t instanceof Array};e.isArray=n,e.isObjectButNotArray=function(t){return!n(t)&&"object"==typeof t},e.isSubclass=function(t,e){return t.prototype instanceof e},e.isUndefined=function(t){return"undefined"==typeof t},e.isString=function(t){return"string"==typeof t},e.isFunction=function(t){return"function"==typeof t},t.exports=e},,function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=n(3),o=(n(5),n(11).bind,n(7)),a=n(14),u="fastflux/plugins/MessageHistory",c={log:!1};t.exports=new a({setUp:function(t){s(!t.hasStore(u),"Message history plugin is already enabled.");var e=this.options;t.addStore(u,function(t){function n(){r(this,n),t.apply(this,arguments),this.history=[]}return i(n,t),n.prototype.getState=function(){return this.history.concat()},n.prototype.onMessage=function(t){var n=[new Date,t];this.history.push(n),this.emitChange(),e.log&&console.log.apply(console,n)},n}(o)),t.getMessageHistory=function(){return this.getStore(u).getState()}},tearDown:function(t){s(t.hasStore(u),"Message history plugin is not enabled."),delete t.getMessageHistory,t.removeStore(u)},options:c})},function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=n(5);t.exports=function a(t){var e=this,n=t.options,u=r(t,["options"]);i(this,a),this.options=o({},n),Object.getOwnPropertyNames(u).forEach(function(t){e[t]=u[t]}),this.configure=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return t=o({},this.options,t),new this.constructor(s({options:t},u))}}}]);