{"version":3,"sources":["webpack:///plugins/socketio-broker.min.js","webpack:///webpack/bootstrap 2bdb51664112b4eea723?373e*","webpack:///./plugins/socketio-broker.js","webpack:////home/rudolfs/Projects/fastflux/~/invariant/browser.js?5df0*","webpack:////home/rudolfs/Projects/fastflux/~/object-assign/index.js?f43a*","webpack:////home/rudolfs/Projects/fastflux/~/node-libs-browser/~/process/browser.js?7273*","webpack:///../lib/utils.js?97c0","webpack:///../plugins/Plugin.js?d37a","webpack:///../plugins/SocketIOBroker.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","window","Fastflux","plugins","SocketIOBroker","process","invariant","condition","format","a","b","d","e","f","env","NODE_ENV","undefined","Error","error","args","argIndex","replace","framesToPop","toObject","val","TypeError","Object","hasOwnProperty","prototype","propIsEnumerable","propertyIsEnumerable","assign","target","source","from","symbols","to","s","arguments","length","key","getOwnPropertySymbols","i","cleanUpNextTick","draining","currentQueue","queue","concat","queueIndex","drainQueue","timeout","setTimeout","len","run","clearTimeout","Item","fun","array","this","noop","nextTick","Array","push","apply","title","browser","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","binding","name","cwd","chdir","dir","umask","bind","fn","ctx","originalFunction","boundFn","isArray","isObjectButNotArray","o","isSubclass","A","B","isUndefined","u","isString","isFunction","_objectWithoutProperties","obj","keys","indexOf","_classCallCheck","instance","Constructor","_extends","Plugin","_ref","_this","options","rest","getOwnPropertyNames","forEach","configure","constructor","_inherits","subClass","superClass","create","value","enumerable","writable","configurable","setPrototypeOf","__proto__","simpleOutboundMapper","socketEventType","messageData","simpleInboundMapper","messageType","data","dispatch","type","installMappers","mapper","result","_require","KEY","AppSocketContext","app","socket","OutboundContext","_AppSocketContext","_socket","wait","_app","InboundContext","_AppSocketContext2","_app2","setUp","hasCallback","_options","inbound","outbound","addCallback","handler","inboundEventListenerPairs","eventType","eventListenerPair","tearDown","getSocket","_getInboundEventListenerPairs","_ref2","listener","removeCallback"],"mappings":"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","file":"plugins/socketio-broker.min.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t(function (window) {\n\t\n\t  window.Fastflux.plugins = window.Fastflux.plugins || {};\n\t  window.Fastflux.plugins.SocketIOBroker = __webpack_require__(13);\n\t})(window);\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(process) {/**\n\t * Copyright 2013-2015, Facebook, Inc.\n\t * All rights reserved.\n\t *\n\t * This source code is licensed under the BSD-style license found in the\n\t * LICENSE file in the root directory of this source tree. An additional grant\n\t * of patent rights can be found in the PATENTS file in the same directory.\n\t *\n\t * @providesModule invariant\n\t */\n\t\n\t'use strict';\n\t\n\t/**\n\t * Use invariant() to assert state which your program assumes to be true.\n\t *\n\t * Provide sprintf-style format (only %s is supported) and arguments\n\t * to provide information about what broke and what you were\n\t * expecting.\n\t *\n\t * The invariant message will be stripped in production, but the invariant\n\t * will remain to ensure logic does not differ in production.\n\t */\n\t\n\tvar invariant = function(condition, format, a, b, c, d, e, f) {\n\t  if (process.env.NODE_ENV !== 'production') {\n\t    if (format === undefined) {\n\t      throw new Error('invariant requires an error message argument');\n\t    }\n\t  }\n\t\n\t  if (!condition) {\n\t    var error;\n\t    if (format === undefined) {\n\t      error = new Error(\n\t        'Minified exception occurred; use the non-minified dev environment ' +\n\t        'for the full error message and additional helpful warnings.'\n\t      );\n\t    } else {\n\t      var args = [a, b, c, d, e, f];\n\t      var argIndex = 0;\n\t      error = new Error(\n\t        'Invariant Violation: ' +\n\t        format.replace(/%s/g, function() { return args[argIndex++]; })\n\t      );\n\t    }\n\t\n\t    error.framesToPop = 1; // we don't care about invariant's own frame\n\t    throw error;\n\t  }\n\t};\n\t\n\tmodule.exports = invariant;\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(3)))\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\t/* eslint-disable no-unused-vars */\n\t'use strict';\n\tvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\tvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\t\n\tfunction toObject(val) {\n\t\tif (val === null || val === undefined) {\n\t\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t\t}\n\t\n\t\treturn Object(val);\n\t}\n\t\n\tmodule.exports = Object.assign || function (target, source) {\n\t\tvar from;\n\t\tvar to = toObject(target);\n\t\tvar symbols;\n\t\n\t\tfor (var s = 1; s < arguments.length; s++) {\n\t\t\tfrom = Object(arguments[s]);\n\t\n\t\t\tfor (var key in from) {\n\t\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\t\tto[key] = from[key];\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tif (Object.getOwnPropertySymbols) {\n\t\t\t\tsymbols = Object.getOwnPropertySymbols(from);\n\t\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\n\t\treturn to;\n\t};\n\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\t// shim for using process in browser\n\t\n\tvar process = module.exports = {};\n\tvar queue = [];\n\tvar draining = false;\n\tvar currentQueue;\n\tvar queueIndex = -1;\n\t\n\tfunction cleanUpNextTick() {\n\t    draining = false;\n\t    if (currentQueue.length) {\n\t        queue = currentQueue.concat(queue);\n\t    } else {\n\t        queueIndex = -1;\n\t    }\n\t    if (queue.length) {\n\t        drainQueue();\n\t    }\n\t}\n\t\n\tfunction drainQueue() {\n\t    if (draining) {\n\t        return;\n\t    }\n\t    var timeout = setTimeout(cleanUpNextTick);\n\t    draining = true;\n\t\n\t    var len = queue.length;\n\t    while(len) {\n\t        currentQueue = queue;\n\t        queue = [];\n\t        while (++queueIndex < len) {\n\t            if (currentQueue) {\n\t                currentQueue[queueIndex].run();\n\t            }\n\t        }\n\t        queueIndex = -1;\n\t        len = queue.length;\n\t    }\n\t    currentQueue = null;\n\t    draining = false;\n\t    clearTimeout(timeout);\n\t}\n\t\n\tprocess.nextTick = function (fun) {\n\t    var args = new Array(arguments.length - 1);\n\t    if (arguments.length > 1) {\n\t        for (var i = 1; i < arguments.length; i++) {\n\t            args[i - 1] = arguments[i];\n\t        }\n\t    }\n\t    queue.push(new Item(fun, args));\n\t    if (queue.length === 1 && !draining) {\n\t        setTimeout(drainQueue, 0);\n\t    }\n\t};\n\t\n\t// v8 likes predictible objects\n\tfunction Item(fun, array) {\n\t    this.fun = fun;\n\t    this.array = array;\n\t}\n\tItem.prototype.run = function () {\n\t    this.fun.apply(null, this.array);\n\t};\n\tprocess.title = 'browser';\n\tprocess.browser = true;\n\tprocess.env = {};\n\tprocess.argv = [];\n\tprocess.version = ''; // empty string to avoid regexp issues\n\tprocess.versions = {};\n\t\n\tfunction noop() {}\n\t\n\tprocess.on = noop;\n\tprocess.addListener = noop;\n\tprocess.once = noop;\n\tprocess.off = noop;\n\tprocess.removeListener = noop;\n\tprocess.removeAllListeners = noop;\n\tprocess.emit = noop;\n\t\n\tprocess.binding = function (name) {\n\t    throw new Error('process.binding is not supported');\n\t};\n\t\n\tprocess.cwd = function () { return '/' };\n\tprocess.chdir = function (dir) {\n\t    throw new Error('process.chdir is not supported');\n\t};\n\tprocess.umask = function() { return 0; };\n\n\n/***/ },\n/* 4 */,\n/* 5 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\texports.bind = function bind(fn, ctx) {\n\t  fn = typeof fn.originalFunction === \"function\" && fn.originalFunction || fn;\n\t  var boundFn = function boundFn() {\n\t    return fn.apply(ctx, arguments);\n\t  };\n\t  boundFn.originalFunction = fn;\n\t  return boundFn;\n\t};\n\t\n\tvar isArray = function isArray(a) {\n\t  if (typeof Array.isArray === \"function\") return Array.isArray(a);else return a instanceof Array;\n\t};\n\texports.isArray = isArray;\n\t\n\texports.isObjectButNotArray = function isObjectButNotArray(o) {\n\t  return !isArray(o) && typeof o === \"object\";\n\t};\n\t\n\texports.isSubclass = function isSubclass(A, B) {\n\t  return A.prototype instanceof B;\n\t};\n\t\n\texports.isUndefined = function isUndefined(u) {\n\t  return typeof u === \"undefined\";\n\t};\n\t\n\texports.isString = function isString(s) {\n\t  return typeof s === \"string\";\n\t};\n\t\n\texports.isFunction = function isFunction(f) {\n\t  return typeof f === \"function\";\n\t};\n\t\n\tmodule.exports = exports;\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\t\n\tvar assign = __webpack_require__(2);\n\t\n\tmodule.exports = function Plugin(_ref) {\n\t  var _this = this;\n\t\n\t  var options = _ref.options;\n\t\n\t  var rest = _objectWithoutProperties(_ref, ['options']);\n\t\n\t  _classCallCheck(this, Plugin);\n\t\n\t  this.options = assign({}, options);\n\t  Object.getOwnPropertyNames(rest).forEach(function (name) {\n\t    _this[name] = rest[name];\n\t  });\n\t\n\t  this.configure = function () {\n\t    var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\t\n\t    options = assign({}, this.options, options);\n\t    return new this.constructor(_extends({ options: options }, rest));\n\t  };\n\t};\n\n/***/ },\n/* 7 */,\n/* 8 */,\n/* 9 */,\n/* 10 */,\n/* 11 */,\n/* 12 */,\n/* 13 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\t\n\tvar invariant = __webpack_require__(1);\n\tvar Plugin = __webpack_require__(6);\n\t\n\tvar _require = __webpack_require__(5);\n\t\n\tvar isUndefined = _require.isUndefined;\n\tvar isString = _require.isString;\n\tvar isFunction = _require.isFunction;\n\tvar bind = _require.bind;\n\t\n\tvar KEY = \"fastflux/plugins/SocketIOBroker\";\n\t\n\tfunction simpleOutboundMapper(socketEventType) {\n\t  return function (messageData) {\n\t    this.emit(socketEventType, messageData);\n\t  };\n\t}\n\t\n\tfunction simpleInboundMapper(messageType) {\n\t  return function (data) {\n\t    this.dispatch(_extends({ type: messageType }, data));\n\t  };\n\t}\n\t\n\tfunction installMappers(to, mapper) {\n\t  var result = {};\n\t  Object.getOwnPropertyNames(to).forEach(function (name) {\n\t    var value = to[name];\n\t    if (!isFunction(value)) {\n\t      if (!isString(value)) {\n\t        if (!value) {\n\t          return;\n\t        }\n\t        value = name;\n\t      }\n\t      value = mapper(value);\n\t    }\n\t    result[name] = value;\n\t  });\n\t  return result;\n\t}\n\t\n\tvar AppSocketContext = function AppSocketContext(app, socket) {\n\t  _classCallCheck(this, AppSocketContext);\n\t\n\t  this.app = app;\n\t  this.socket = socket;\n\t};\n\t\n\tvar OutboundContext = (function (_AppSocketContext) {\n\t  _inherits(OutboundContext, _AppSocketContext);\n\t\n\t  function OutboundContext() {\n\t    _classCallCheck(this, OutboundContext);\n\t\n\t    _AppSocketContext.apply(this, arguments);\n\t  }\n\t\n\t  OutboundContext.prototype.emit = function emit() {\n\t    var _socket;\n\t\n\t    return (_socket = this.socket).emit.apply(_socket, arguments);\n\t  };\n\t\n\t  OutboundContext.prototype.wait = function wait() {\n\t    var _app;\n\t\n\t    return (_app = this.app).wait.apply(_app, arguments);\n\t  };\n\t\n\t  return OutboundContext;\n\t})(AppSocketContext);\n\t\n\tvar InboundContext = (function (_AppSocketContext2) {\n\t  _inherits(InboundContext, _AppSocketContext2);\n\t\n\t  function InboundContext() {\n\t    _classCallCheck(this, InboundContext);\n\t\n\t    _AppSocketContext2.apply(this, arguments);\n\t  }\n\t\n\t  InboundContext.prototype.dispatch = function dispatch() {\n\t    var _app2;\n\t\n\t    return (_app2 = this.app).dispatch.apply(_app2, arguments);\n\t  };\n\t\n\t  return InboundContext;\n\t})(AppSocketContext);\n\t\n\tmodule.exports = new Plugin({\n\t\n\t  setUp: function setUp(app) {\n\t    var _this = this;\n\t\n\t    invariant(!app.hasCallback(KEY), \"SocketIOBroker: plugin is already enabled\");\n\t\n\t    var _options = this.options;\n\t    var socket = _options.socket;\n\t    var inbound = _options.inbound;\n\t    var outbound = _options.outbound;\n\t\n\t    invariant(!isUndefined(socket), \"options.socket: socket.io-client instance expected\");\n\t\n\t    inbound = installMappers(inbound || {}, simpleInboundMapper);\n\t    outbound = installMappers(outbound || {}, simpleOutboundMapper);\n\t\n\t    app.addCallback(KEY, function (_ref) {\n\t      var type = _ref.type;\n\t\n\t      var messageData = _objectWithoutProperties(_ref, ['type']);\n\t\n\t      var handler = outbound[type];\n\t      if (isFunction(handler)) {\n\t        handler.call(new OutboundContext(app, socket), messageData);\n\t      }\n\t    });\n\t\n\t    var inboundEventListenerPairs = [];\n\t    Object.getOwnPropertyNames(inbound).forEach(function (eventType) {\n\t      var eventListenerPair = [eventType, bind(inbound[eventType], new InboundContext(app, socket))];\n\t      socket.on.apply(socket, eventListenerPair);\n\t      inboundEventListenerPairs.push(eventListenerPair);\n\t    });\n\t\n\t    socket.on('disconnect', function () {\n\t      _this.tearDown(app);\n\t    });\n\t\n\t    app.getSocket = function () {\n\t      return socket;\n\t    };\n\t    app._getInboundEventListenerPairs = function () {\n\t      return inboundEventListenerPairs;\n\t    };\n\t  },\n\t\n\t  tearDown: function tearDown(app) {\n\t    invariant(app.hasCallback(KEY), \"SocketIOBroker: plugin is not enabled\");\n\t\n\t    var socket = app.getSocket();\n\t    app._getInboundEventListenerPairs().forEach(function (_ref2) {\n\t      var eventType = _ref2[0];\n\t      var listener = _ref2[1];\n\t\n\t      socket.removeListener(eventType, listener);\n\t    });\n\t    delete app.getSocket;\n\t    delete app._getInboundEventListenerPairs;\n\t    app.removeCallback(KEY);\n\t  }\n\t\n\t});\n\t\n\t/*\n\t// Example\n\n\tvar config = {\n\t  socket: io(\"http://localhost\"),\n\t  inbound: {\n\t    \"recv im\": MessageTypes.IM.Add\n\t  },\n\t  outbound: {\n\t    [MessageTypes.IM.Send]: \"send im\"\n\t  }\n\t};\n\tSocketIOBroker.configure(config).setUp(app);\n\n\t */\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** plugins/socketio-broker.min.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 2bdb51664112b4eea723\n **/","(function(window) {\n\n  window.Fastflux.plugins = window.Fastflux.plugins || {};\n  window.Fastflux.plugins.SocketIOBroker = require('../../plugins/SocketIOBroker');\n\n})(window);\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/socketio-broker.js\n **/","/**\n * Copyright 2013-2015, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule invariant\n */\n\n'use strict';\n\n/**\n * Use invariant() to assert state which your program assumes to be true.\n *\n * Provide sprintf-style format (only %s is supported) and arguments\n * to provide information about what broke and what you were\n * expecting.\n *\n * The invariant message will be stripped in production, but the invariant\n * will remain to ensure logic does not differ in production.\n */\n\nvar invariant = function(condition, format, a, b, c, d, e, f) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (format === undefined) {\n      throw new Error('invariant requires an error message argument');\n    }\n  }\n\n  if (!condition) {\n    var error;\n    if (format === undefined) {\n      error = new Error(\n        'Minified exception occurred; use the non-minified dev environment ' +\n        'for the full error message and additional helpful warnings.'\n      );\n    } else {\n      var args = [a, b, c, d, e, f];\n      var argIndex = 0;\n      error = new Error(\n        'Invariant Violation: ' +\n        format.replace(/%s/g, function() { return args[argIndex++]; })\n      );\n    }\n\n    error.framesToPop = 1; // we don't care about invariant's own frame\n    throw error;\n  }\n};\n\nmodule.exports = invariant;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** /home/rudolfs/Projects/fastflux/~/invariant/browser.js\n ** module id = 1\n ** module chunks = 0 1 2\n **/","/* eslint-disable no-unused-vars */\n'use strict';\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nmodule.exports = Object.assign || function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (Object.getOwnPropertySymbols) {\n\t\t\tsymbols = Object.getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** /home/rudolfs/Projects/fastflux/~/object-assign/index.js\n ** module id = 2\n ** module chunks = 0 1 2\n **/","// shim for using process in browser\n\nvar process = module.exports = {};\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = setTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    clearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        setTimeout(drainQueue, 0);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** /home/rudolfs/Projects/fastflux/~/node-libs-browser/~/process/browser.js\n ** module id = 3\n ** module chunks = 0 1 2\n **/","exports.bind = function bind(fn, ctx) {\n  fn = typeof fn.originalFunction === \"function\" && fn.originalFunction || fn;\n  let boundFn = function() {\n    return fn.apply(ctx, arguments);\n  };\n  boundFn.originalFunction = fn;\n  return boundFn;\n};\n\nconst isArray = function isArray(a) {\n  if (typeof Array.isArray === \"function\")\n    return Array.isArray(a);\n  else\n    return a instanceof Array;\n};\nexports.isArray = isArray;\n\nexports.isObjectButNotArray = function isObjectButNotArray(o) {\n  return !isArray(o) && (typeof o === \"object\")\n};\n\nexports.isSubclass = function isSubclass(A, B) {\n  return A.prototype instanceof B\n};\n\nexports.isUndefined = function isUndefined(u) {\n  return typeof u === \"undefined\"\n};\n\nexports.isString = function isString(s) {\n  return typeof s === \"string\"\n};\n\nexports.isFunction = function isFunction(f) {\n  return typeof f === \"function\"\n};\n\nmodule.exports = exports;\n\n\n\n/** WEBPACK FOOTER **\n ** ../lib/utils.js\n **/","const assign = require('object-assign');\n\nmodule.exports = class Plugin {\n\n  constructor({options, ...rest}) {\n    this.options = assign({}, options);\n    Object.getOwnPropertyNames(rest).forEach(name => {\n      this[name] = rest[name];\n    });\n\n    this.configure = function(options={}) {\n      options = assign({}, this.options, options);\n      return new this.constructor({options, ...rest});\n    }\n  }\n\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ../plugins/Plugin.js\n **/","const invariant = require(\"invariant\");\nconst Plugin = require('./Plugin');\nconst {isUndefined, isString, isFunction, bind} = require('../lib/utils');\n\nconst KEY = \"fastflux/plugins/SocketIOBroker\";\n\nfunction simpleOutboundMapper(socketEventType) {\n  return function(messageData) {\n    this.emit(socketEventType, messageData);\n  }\n}\n\nfunction simpleInboundMapper(messageType) {\n  return function(data) {\n    this.dispatch({type: messageType, ...data});\n  }\n}\n\nfunction installMappers(to, mapper) {\n  const result = {};\n  Object.getOwnPropertyNames(to).forEach(name => {\n    let value = to[name];\n    if (!isFunction(value)) {\n      if (!isString(value)) {\n        if (!value) {\n          return\n        }\n        value = name\n      }\n      value = mapper(value)\n    }\n    result[name] = value\n  });\n  return result\n}\n\nclass AppSocketContext {\n\n  constructor(app, socket) {\n    this.app = app;\n    this.socket = socket;\n  }\n\n}\n\nclass OutboundContext extends AppSocketContext {\n\n  emit(...args) {\n    return this.socket.emit(...args);\n  }\n\n  wait(...args) {\n    return this.app.wait(...args);\n  }\n\n}\n\nclass InboundContext extends AppSocketContext {\n\n  dispatch(...args) {\n    return this.app.dispatch(...args);\n  }\n\n}\n\nmodule.exports = new Plugin({\n\n  setUp(app) {\n    invariant(\n      !app.hasCallback(KEY),\n      \"SocketIOBroker: plugin is already enabled\"\n    );\n\n    let {socket, inbound, outbound} = this.options;\n    invariant(!isUndefined(socket),\n              \"options.socket: socket.io-client instance expected\");\n\n    inbound = installMappers(inbound || {}, simpleInboundMapper);\n    outbound = installMappers(outbound || {}, simpleOutboundMapper);\n\n    app.addCallback(KEY, ({type, ...messageData}) => {\n      const handler = outbound[type];\n      if (isFunction(handler)) {\n        handler.call(new OutboundContext(app, socket), messageData)\n      }\n    });\n\n    const inboundEventListenerPairs = [];\n    Object.getOwnPropertyNames(inbound).forEach(eventType => {\n      const eventListenerPair = [\n        eventType,\n        bind(inbound[eventType], new InboundContext(app, socket))\n      ];\n      socket.on(...eventListenerPair);\n      inboundEventListenerPairs.push(eventListenerPair)\n    });\n\n    socket.on('disconnect', () => {\n      this.tearDown(app);\n    });\n\n    app.getSocket = () => socket;\n    app._getInboundEventListenerPairs = () => inboundEventListenerPairs\n  },\n\n  tearDown(app) {\n    invariant(\n      app.hasCallback(KEY),\n      \"SocketIOBroker: plugin is not enabled\"\n    );\n\n    const socket = app.getSocket();\n    app._getInboundEventListenerPairs().forEach(([eventType, listener]) => {\n      socket.removeListener(eventType, listener)\n    });\n    delete app.getSocket;\n    delete app._getInboundEventListenerPairs;\n    app.removeCallback(KEY)\n  }\n\n});\n\n/*\n// Example\n\nvar config = {\n  socket: io(\"http://localhost\"),\n  inbound: {\n    \"recv im\": MessageTypes.IM.Add\n  },\n  outbound: {\n    [MessageTypes.IM.Send]: \"send im\"\n  }\n};\nSocketIOBroker.configure(config).setUp(app);\n\n */\n\n\n/** WEBPACK FOOTER **\n ** ../plugins/SocketIOBroker.js\n **/"],"sourceRoot":""}